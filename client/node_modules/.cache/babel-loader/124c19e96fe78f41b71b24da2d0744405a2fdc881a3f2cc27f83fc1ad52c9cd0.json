{"ast":null,"code":"import * as r from \"restructure\";\nimport { readUInt8, readUInt16BE, readUInt16LE, readUInt32BE, readUInt32LE, uint8ArrayToHexString, uint8ArrayToString, readInt32BE, readInt32LE } from \"./utils.js\";\nconst tags = {\n  ifd: {\n    \"010e\": \"imageDescription\",\n    \"010f\": \"make\",\n    \"011a\": \"xResolution\",\n    \"011b\": \"yResolution\",\n    \"011c\": \"planarConfiguration\",\n    \"012d\": \"transferFunction\",\n    \"013b\": \"artist\",\n    \"013e\": \"whitePoint\",\n    \"013f\": \"primaryChromaticities\",\n    \"0100\": \"imageWidth\",\n    \"0101\": \"imageHeight\",\n    \"0102\": \"bitsPerSample\",\n    \"0103\": \"compression\",\n    \"0106\": \"photometricInterpretation\",\n    \"0110\": \"model\",\n    \"0111\": \"stripOffsets\",\n    \"0112\": \"orientation\",\n    \"0115\": \"samplesPerPixel\",\n    \"0116\": \"rowsPerStrip\",\n    \"0117\": \"stripByteCounts\",\n    \"0128\": \"resolutionUnit\",\n    \"0131\": \"software\",\n    \"0132\": \"dateTime\",\n    \"0201\": \"jpegInterchangeFormat\",\n    \"0202\": \"jpegInterchangeFormatLength\",\n    \"0211\": \"ycbCrCoefficients\",\n    \"0212\": \"ycbCrSubSampling\",\n    \"0213\": \"ycbCrPositioning\",\n    \"0214\": \"referenceBlackWhite\",\n    \"829a\": \"exposureTime\",\n    \"829d\": \"fNumber\",\n    \"920a\": \"focalLength\",\n    \"927c\": \"makerNote\",\n    8298: \"copyright\",\n    8769: \"exifIFDPointer\",\n    8822: \"exposureProgram\",\n    8824: \"spectralSensitivity\",\n    8825: \"gpsInfoIFDPointer\",\n    8827: \"photographicSensitivity\",\n    8828: \"oecf\",\n    8830: \"sensitivityType\",\n    8831: \"standardOutputSensitivity\",\n    8832: \"recommendedExposureIndex\",\n    8833: \"isoSpeed\",\n    8834: \"isoSpeedLatitudeyyy\",\n    8835: \"isoSpeedLatitudezzz\",\n    9000: \"exifVersion\",\n    9003: \"dateTimeOriginal\",\n    9004: \"dateTimeDigitized\",\n    9101: \"componentsConfiguration\",\n    9102: \"compressedBitsPerPixel\",\n    9201: \"shutterSpeedValue\",\n    9202: \"apertureValue\",\n    9203: \"brightnessValue\",\n    9204: \"exposureBiasValue\",\n    9205: \"maxApertureValue\",\n    9206: \"subjectDistance\",\n    9207: \"meteringMode\",\n    9208: \"lightSource\",\n    9209: \"flash\",\n    9214: \"subjectArea\",\n    9286: \"userComment\",\n    9290: \"subSecTime\",\n    9291: \"subSecTimeOriginal\",\n    9292: \"subSecTimeDigitized\",\n    a000: \"flashpixVersion\",\n    a001: \"colorSpace\",\n    a002: \"pixelXDimension\",\n    a003: \"pixelYDimension\",\n    a004: \"relatedSoundFile\",\n    a005: \"interoperabilityIFDPointer\",\n    a20b: \"flashEnergy\",\n    a20c: \"spatialFrequencyResponse\",\n    a20e: \"focalPlaneXResolution\",\n    a20f: \"focalPlaneYResolution\",\n    a40a: \"sharpness\",\n    a40b: \"deviceSettingDescription\",\n    a40c: \"subjectDistanceRange\",\n    a210: \"focalPlaneResolutionUnit\",\n    a214: \"subjectLocation\",\n    a215: \"exposureIndex\",\n    a217: \"sensingMethod\",\n    a300: \"fileSource\",\n    a301: \"sceneType\",\n    a302: \"cfaPattern\",\n    a401: \"customRendered\",\n    a402: \"exposureMode\",\n    a403: \"whiteBalance\",\n    a404: \"digitalZoomRatio\",\n    a405: \"focalLengthIn35mmFilm\",\n    a406: \"sceneCaptureType\",\n    a407: \"gainControl\",\n    a408: \"contrast\",\n    a409: \"saturation\",\n    a420: \"imageUniqueID\",\n    a430: \"cameraOwnerName\",\n    a431: \"bodySerialNumber\",\n    a432: \"lensSpecification\",\n    a433: \"lensMake\",\n    a434: \"lensModel\",\n    a435: \"lensSerialNumber\",\n    a500: \"gamma\"\n  },\n  gps: {\n    \"0000\": \"gpsVersionID\",\n    \"0001\": \"gpsLatitudeRef\",\n    \"0002\": \"gpsLatitude\",\n    \"0003\": \"gpsLongitudeRef\",\n    \"0004\": \"gpsLongitude\",\n    \"0005\": \"gpsAltitudeRef\",\n    \"0006\": \"gpsAltitude\",\n    \"0007\": \"gpsTimeStamp\",\n    \"0008\": \"gpsSatellites\",\n    \"0009\": \"gpsStatus\",\n    \"000a\": \"gpsMeasureMode\",\n    \"000b\": \"gpsDOP\",\n    \"000c\": \"gpsSpeedRef\",\n    \"000d\": \"gpsSpeed\",\n    \"000e\": \"gpsTrackRef\",\n    \"000f\": \"gpsTrack\",\n    \"0010\": \"gpsImgDirectionRef\",\n    \"0011\": \"gpsImgDirection\",\n    \"0012\": \"gpsMapDatum\",\n    \"0013\": \"gpsDestLatitudeRef\",\n    \"0014\": \"gpsDestLatitude\",\n    \"0015\": \"gpsDestLongitudeRef\",\n    \"0016\": \"gpsDestLongitude\",\n    \"0017\": \"gpsDestBearingRef\",\n    \"0018\": \"gpsDestBearing\",\n    \"0019\": \"gpsDestDistanceRef\",\n    \"001a\": \"gpsDestDistance\",\n    \"001b\": \"gpsProcessingMethod\",\n    \"001c\": \"gpsAreaInformation\",\n    \"001d\": \"gpsDateStamp\",\n    \"001e\": \"gpsDifferential\",\n    \"001f\": \"gpsHPositioningError\"\n  }\n};\nclass IDFEntries {\n  constructor(bigEndian) {\n    this.bigEndian = bigEndian;\n    this.bytes = [0, 1, 1, 2, 4, 8, 1, 1, 2, 4, 8, 4, 8];\n  }\n  _getTagValue(dataValue, dataFormat, componentsNumber) {\n    switch (dataFormat) {\n      case 2:\n        return dataValue.toString(\"ascii\").replace(/\\0+$/, \"\");\n      case 129:\n        return dataValue.toString(\"utf8\").replace(/\\0+$/, \"\");\n      case 7:\n        return \"0x\" + dataValue.toString(\"hex\");\n      default:\n        return this._getTagValueForNumericalData(dataValue, dataFormat, componentsNumber);\n    }\n  }\n  _getTagValueForNumericalData(dataValue, dataFormat, componentsNumber) {\n    const tagValue = [];\n    const componentsBytes = this.bytes[dataFormat];\n    for (let i = 0; i < componentsNumber; i += 1) {\n      tagValue.push(this._getSingleTagValueForNumericalData(dataValue, dataFormat, i * componentsBytes));\n    }\n    return tagValue.length === 1 ? tagValue[0] : tagValue;\n  }\n  _getSingleTagValueForNumericalData(dataValue, dataFormat, pos) {\n    const uint16 = pos => this.bigEndian ? readUInt16BE(dataValue, pos) : readUInt16LE(dataValue, pos);\n    const uint32 = pos => this.bigEndian ? readUInt32BE(dataValue, pos) : readUInt32LE(dataValue, pos);\n    const int32 = pos => this.bigEndian ? readInt32BE(dataValue, pos) : readInt32LE(dataValue, pos);\n    switch (dataFormat) {\n      case 1:\n        return readUInt8(dataValue, pos);\n      case 3:\n        return uint16(pos);\n      case 4:\n        return uint32(pos);\n      case 5:\n        return uint32(pos) / uint32(pos + 4);\n      case 9:\n        return int32(pos);\n      case 10:\n        {\n          return int32(pos) / int32(pos + 4);\n        }\n    }\n  }\n  _decodeIDFEntries(buffer, tags, offset, log = false) {\n    let pos = 2 + offset;\n    const entries = {};\n    const uint16 = pos => this.bigEndian ? readUInt16BE(buffer, pos) : readUInt16LE(buffer, pos);\n    const uint32 = pos => this.bigEndian ? readUInt32BE(buffer, pos) : readUInt32LE(buffer, pos);\n    const numberOfEntries = uint16(offset);\n    for (let i = 0; i < numberOfEntries; i++) {\n      const tagAddress = buffer.slice(pos, pos + 2);\n      const dataFormat = uint16(pos + 2);\n      const componentsNumber = uint32(pos + 4);\n      const componentsBytes = this.bytes[dataFormat];\n      const dataLength = componentsNumber * componentsBytes;\n      let dataValue = buffer.slice(pos + 8, pos + 12);\n      if (dataLength > 4) {\n        const dataOffset = this.bigEndian ? readUInt32BE(dataValue, 0) : readUInt32LE(dataValue, 0);\n        dataValue = buffer.slice(dataOffset, dataOffset + dataLength);\n      }\n      const tagValue = this._getTagValue(dataValue, dataFormat, componentsNumber);\n      const tagNumber = this.bigEndian ? uint8ArrayToHexString(tagAddress) : uint8ArrayToHexString(tagAddress.reverse());\n      const tagName = tags[tagNumber];\n      entries[tagName] = tagValue;\n      pos += 12;\n    }\n    return entries;\n  }\n  decode(stream, parent) {\n    const buffer = stream.buffer.slice(stream.pos - 8);\n    const offsetToFirstIFD = parent.offsetToFirstIFD;\n    if (offsetToFirstIFD > buffer.length) {\n      stream.pos += parent.parent.length - 16;\n      return {};\n    }\n    const entries = this._decodeIDFEntries(buffer, tags.ifd, offsetToFirstIFD);\n    const {\n      exifIFDPointer,\n      gpsInfoIFDPointer\n    } = entries;\n    if (exifIFDPointer) {\n      entries.subExif = this._decodeIDFEntries(buffer, tags.ifd, exifIFDPointer);\n    }\n    if (gpsInfoIFDPointer) {\n      const gps = gpsInfoIFDPointer;\n      entries.gpsInfo = this._decodeIDFEntries(buffer, tags.gps, gps, true);\n    }\n    stream.pos += parent.parent.length - 16;\n    return entries;\n  }\n}\nconst IFDData = bigEndian => {\n  const uint16 = bigEndian ? r.uint16be : r.uint16le;\n  const uint32 = bigEndian ? r.uint32be : r.uint32le;\n  return new r.Struct({\n    fortyTwo: uint16,\n    offsetToFirstIFD: uint32,\n    entries: new IDFEntries(bigEndian)\n  });\n};\nclass TIFFHeader {\n  decode(stream, parent) {\n    const byteOrder = uint8ArrayToString(stream.buffer.slice(stream.pos, stream.pos + 2));\n    const bigEndian = byteOrder === \"MM\";\n    stream.pos += 2;\n    const data = IFDData(bigEndian).decode(stream, parent);\n    return data.entries;\n  }\n}\nconst EXIFMarker = {\n  name: () => \"EXIF\",\n  length: r.uint16be,\n  identifier: new r.String(6),\n  entries: new TIFFHeader()\n};\nexport default EXIFMarker;","map":{"version":3,"names":["r","readUInt8","readUInt16BE","readUInt16LE","readUInt32BE","readUInt32LE","uint8ArrayToHexString","uint8ArrayToString","readInt32BE","readInt32LE","tags","ifd","a000","a001","a002","a003","a004","a005","a20b","a20c","a20e","a20f","a40a","a40b","a40c","a210","a214","a215","a217","a300","a301","a302","a401","a402","a403","a404","a405","a406","a407","a408","a409","a420","a430","a431","a432","a433","a434","a435","a500","gps","IDFEntries","constructor","bigEndian","bytes","_getTagValue","dataValue","dataFormat","componentsNumber","toString","replace","_getTagValueForNumericalData","tagValue","componentsBytes","i","push","_getSingleTagValueForNumericalData","length","pos","uint16","uint32","int32","_decodeIDFEntries","buffer","offset","log","entries","numberOfEntries","tagAddress","slice","dataLength","dataOffset","tagNumber","reverse","tagName","decode","stream","parent","offsetToFirstIFD","exifIFDPointer","gpsInfoIFDPointer","subExif","gpsInfo","IFDData","uint16be","uint16le","uint32be","uint32le","Struct","fortyTwo","TIFFHeader","byteOrder","data","EXIFMarker","name","identifier","String"],"sources":["C:/Users/broad/OneDrive/Documentos/FULLSTACK-TEST/pokedex/client/node_modules/jay-peg/src/markers/exif.js"],"sourcesContent":["import * as r from \"restructure\";\nimport {\n  readUInt8,\n  readUInt16BE,\n  readUInt16LE,\n  readUInt32BE,\n  readUInt32LE,\n  uint8ArrayToHexString,\n  uint8ArrayToString,\n  readInt32BE,\n  readInt32LE,\n} from \"./utils.js\";\n\nconst tags = {\n  ifd: {\n    \"010e\": \"imageDescription\",\n    \"010f\": \"make\",\n    \"011a\": \"xResolution\",\n    \"011b\": \"yResolution\",\n    \"011c\": \"planarConfiguration\",\n    \"012d\": \"transferFunction\",\n    \"013b\": \"artist\",\n    \"013e\": \"whitePoint\",\n    \"013f\": \"primaryChromaticities\",\n    \"0100\": \"imageWidth\",\n    \"0101\": \"imageHeight\",\n    \"0102\": \"bitsPerSample\",\n    \"0103\": \"compression\",\n    \"0106\": \"photometricInterpretation\",\n    \"0110\": \"model\",\n    \"0111\": \"stripOffsets\",\n    \"0112\": \"orientation\",\n    \"0115\": \"samplesPerPixel\",\n    \"0116\": \"rowsPerStrip\",\n    \"0117\": \"stripByteCounts\",\n    \"0128\": \"resolutionUnit\",\n    \"0131\": \"software\",\n    \"0132\": \"dateTime\",\n    \"0201\": \"jpegInterchangeFormat\",\n    \"0202\": \"jpegInterchangeFormatLength\",\n    \"0211\": \"ycbCrCoefficients\",\n    \"0212\": \"ycbCrSubSampling\",\n    \"0213\": \"ycbCrPositioning\",\n    \"0214\": \"referenceBlackWhite\",\n    \"829a\": \"exposureTime\",\n    \"829d\": \"fNumber\",\n    \"920a\": \"focalLength\",\n    \"927c\": \"makerNote\",\n    8298: \"copyright\",\n    8769: \"exifIFDPointer\",\n    8822: \"exposureProgram\",\n    8824: \"spectralSensitivity\",\n    8825: \"gpsInfoIFDPointer\",\n    8827: \"photographicSensitivity\",\n    8828: \"oecf\",\n    8830: \"sensitivityType\",\n    8831: \"standardOutputSensitivity\",\n    8832: \"recommendedExposureIndex\",\n    8833: \"isoSpeed\",\n    8834: \"isoSpeedLatitudeyyy\",\n    8835: \"isoSpeedLatitudezzz\",\n    9000: \"exifVersion\",\n    9003: \"dateTimeOriginal\",\n    9004: \"dateTimeDigitized\",\n    9101: \"componentsConfiguration\",\n    9102: \"compressedBitsPerPixel\",\n    9201: \"shutterSpeedValue\",\n    9202: \"apertureValue\",\n    9203: \"brightnessValue\",\n    9204: \"exposureBiasValue\",\n    9205: \"maxApertureValue\",\n    9206: \"subjectDistance\",\n    9207: \"meteringMode\",\n    9208: \"lightSource\",\n    9209: \"flash\",\n    9214: \"subjectArea\",\n    9286: \"userComment\",\n    9290: \"subSecTime\",\n    9291: \"subSecTimeOriginal\",\n    9292: \"subSecTimeDigitized\",\n    a000: \"flashpixVersion\",\n    a001: \"colorSpace\",\n    a002: \"pixelXDimension\",\n    a003: \"pixelYDimension\",\n    a004: \"relatedSoundFile\",\n    a005: \"interoperabilityIFDPointer\",\n    a20b: \"flashEnergy\",\n    a20c: \"spatialFrequencyResponse\",\n    a20e: \"focalPlaneXResolution\",\n    a20f: \"focalPlaneYResolution\",\n    a40a: \"sharpness\",\n    a40b: \"deviceSettingDescription\",\n    a40c: \"subjectDistanceRange\",\n    a210: \"focalPlaneResolutionUnit\",\n    a214: \"subjectLocation\",\n    a215: \"exposureIndex\",\n    a217: \"sensingMethod\",\n    a300: \"fileSource\",\n    a301: \"sceneType\",\n    a302: \"cfaPattern\",\n    a401: \"customRendered\",\n    a402: \"exposureMode\",\n    a403: \"whiteBalance\",\n    a404: \"digitalZoomRatio\",\n    a405: \"focalLengthIn35mmFilm\",\n    a406: \"sceneCaptureType\",\n    a407: \"gainControl\",\n    a408: \"contrast\",\n    a409: \"saturation\",\n    a420: \"imageUniqueID\",\n    a430: \"cameraOwnerName\",\n    a431: \"bodySerialNumber\",\n    a432: \"lensSpecification\",\n    a433: \"lensMake\",\n    a434: \"lensModel\",\n    a435: \"lensSerialNumber\",\n    a500: \"gamma\",\n  },\n  gps: {\n    \"0000\": \"gpsVersionID\",\n    \"0001\": \"gpsLatitudeRef\",\n    \"0002\": \"gpsLatitude\",\n    \"0003\": \"gpsLongitudeRef\",\n    \"0004\": \"gpsLongitude\",\n    \"0005\": \"gpsAltitudeRef\",\n    \"0006\": \"gpsAltitude\",\n    \"0007\": \"gpsTimeStamp\",\n    \"0008\": \"gpsSatellites\",\n    \"0009\": \"gpsStatus\",\n    \"000a\": \"gpsMeasureMode\",\n    \"000b\": \"gpsDOP\",\n    \"000c\": \"gpsSpeedRef\",\n    \"000d\": \"gpsSpeed\",\n    \"000e\": \"gpsTrackRef\",\n    \"000f\": \"gpsTrack\",\n    \"0010\": \"gpsImgDirectionRef\",\n    \"0011\": \"gpsImgDirection\",\n    \"0012\": \"gpsMapDatum\",\n    \"0013\": \"gpsDestLatitudeRef\",\n    \"0014\": \"gpsDestLatitude\",\n    \"0015\": \"gpsDestLongitudeRef\",\n    \"0016\": \"gpsDestLongitude\",\n    \"0017\": \"gpsDestBearingRef\",\n    \"0018\": \"gpsDestBearing\",\n    \"0019\": \"gpsDestDistanceRef\",\n    \"001a\": \"gpsDestDistance\",\n    \"001b\": \"gpsProcessingMethod\",\n    \"001c\": \"gpsAreaInformation\",\n    \"001d\": \"gpsDateStamp\",\n    \"001e\": \"gpsDifferential\",\n    \"001f\": \"gpsHPositioningError\",\n  },\n};\n\nclass IDFEntries {\n  constructor(bigEndian) {\n    this.bigEndian = bigEndian;\n    this.bytes = [0, 1, 1, 2, 4, 8, 1, 1, 2, 4, 8, 4, 8];\n  }\n\n  _getTagValue(dataValue, dataFormat, componentsNumber) {\n    switch (dataFormat) {\n      case 2:\n        return dataValue.toString(\"ascii\").replace(/\\0+$/, \"\");\n      case 129:\n        return dataValue.toString(\"utf8\").replace(/\\0+$/, \"\");\n      case 7:\n        return \"0x\" + dataValue.toString(\"hex\");\n      default:\n        return this._getTagValueForNumericalData(dataValue, dataFormat, componentsNumber);\n    }\n  }\n\n  _getTagValueForNumericalData(dataValue, dataFormat, componentsNumber) {\n    const tagValue = [];\n    const componentsBytes = this.bytes[dataFormat];\n    for (let i = 0; i < componentsNumber; i += 1) {\n      tagValue.push(this._getSingleTagValueForNumericalData(dataValue, dataFormat, i * componentsBytes));\n    }\n    return tagValue.length === 1 ? tagValue[0] : tagValue;\n  }\n\n  _getSingleTagValueForNumericalData(dataValue, dataFormat, pos) {\n    const uint16 = (pos) =>\n      this.bigEndian\n        ? readUInt16BE(dataValue, pos)\n        : readUInt16LE(dataValue, pos);\n\n    const uint32 = (pos) =>\n      this.bigEndian\n        ? readUInt32BE(dataValue, pos)\n        : readUInt32LE(dataValue, pos);\n\n    const int32 = (pos) =>\n      this.bigEndian\n        ? readInt32BE(dataValue, pos)\n        : readInt32LE(dataValue, pos);\n\n    switch (dataFormat) {\n      case 1:\n        return readUInt8(dataValue, pos)\n      case 3:\n        return uint16(pos);\n      case 4:\n        return uint32(pos);\n      case 5:\n        return uint32(pos) / uint32(pos + 4);\n      case 9:\n        return int32(pos);\n      case 10: {\n        return int32(pos) / int32(pos + 4);\n      }\n    }\n  }\n\n  _decodeIDFEntries(buffer, tags, offset, log = false) {\n    let pos = 2 + offset;\n\n    const entries = {};\n\n    const uint16 = (pos) =>\n      this.bigEndian ? readUInt16BE(buffer, pos) : readUInt16LE(buffer, pos);\n\n    const uint32 = (pos) =>\n      this.bigEndian ? readUInt32BE(buffer, pos) : readUInt32LE(buffer, pos);\n\n    const numberOfEntries = uint16(offset);\n\n    for (let i = 0; i < numberOfEntries; i++) {\n      const tagAddress = buffer.slice(pos, pos + 2);\n      const dataFormat = uint16(pos + 2);\n      const componentsNumber = uint32(pos + 4);\n      const componentsBytes = this.bytes[dataFormat];\n      const dataLength = componentsNumber * componentsBytes;\n\n      let dataValue = buffer.slice(pos + 8, pos + 12);\n\n      if (dataLength > 4) {\n        const dataOffset = this.bigEndian\n          ? readUInt32BE(dataValue, 0)\n          : readUInt32LE(dataValue, 0);\n\n        dataValue = buffer.slice(dataOffset, dataOffset + dataLength);\n      }\n\n      const tagValue = this._getTagValue(dataValue, dataFormat, componentsNumber);\n\n      const tagNumber = this.bigEndian\n        ? uint8ArrayToHexString(tagAddress)\n        : uint8ArrayToHexString(tagAddress.reverse());\n\n      const tagName = tags[tagNumber];\n\n      entries[tagName] = tagValue;\n\n      pos += 12;\n    }\n\n    return entries;\n  }\n\n  decode(stream, parent) {\n    const buffer = stream.buffer.slice(stream.pos - 8);\n    const offsetToFirstIFD = parent.offsetToFirstIFD;\n\n    if (offsetToFirstIFD > buffer.length) {\n      stream.pos += parent.parent.length - 16;\n      return {};\n    }\n\n    const entries = this._decodeIDFEntries(buffer, tags.ifd, offsetToFirstIFD);\n    const { exifIFDPointer, gpsInfoIFDPointer } = entries;\n\n    if (exifIFDPointer) {\n      entries.subExif = this._decodeIDFEntries(\n        buffer,\n        tags.ifd,\n        exifIFDPointer,\n      );\n    }\n\n    if (gpsInfoIFDPointer) {\n      const gps = gpsInfoIFDPointer;\n      entries.gpsInfo = this._decodeIDFEntries(buffer, tags.gps, gps, true);\n    }\n\n    stream.pos += parent.parent.length - 16;\n\n    return entries;\n  }\n}\n\nconst IFDData = (bigEndian) => {\n  const uint16 = bigEndian ? r.uint16be : r.uint16le;\n  const uint32 = bigEndian ? r.uint32be : r.uint32le;\n\n  return new r.Struct({\n    fortyTwo: uint16,\n    offsetToFirstIFD: uint32,\n    entries: new IDFEntries(bigEndian),\n  });\n};\n\nclass TIFFHeader {\n  decode(stream, parent) {\n    const byteOrder = uint8ArrayToString(\n      stream.buffer.slice(stream.pos, stream.pos + 2),\n    );\n\n    const bigEndian = byteOrder === \"MM\";\n\n    stream.pos += 2;\n\n    const data = IFDData(bigEndian).decode(stream, parent);\n\n    return data.entries;\n  }\n}\n\nconst EXIFMarker = {\n  name: () => \"EXIF\",\n  length: r.uint16be,\n  identifier: new r.String(6),\n  entries: new TIFFHeader(),\n};\n\nexport default EXIFMarker;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}