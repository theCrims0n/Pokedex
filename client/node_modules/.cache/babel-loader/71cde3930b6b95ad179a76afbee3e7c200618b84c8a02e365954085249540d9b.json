{"ast":null,"code":"/**\n * html2pdf.js v0.9.0\n * Copyright (c) 2018 Erik Koopmans\n * Released under the MIT License.\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('es6-promise/auto'), require('jspdf'), require('html2canvas')) : typeof define === 'function' && define.amd ? define(['es6-promise/auto', 'jspdf', 'html2canvas'], factory) : global.html2pdf = factory(null, global.jsPDF, global.html2canvas);\n})(this, function (auto, jsPDF, html2canvas) {\n  'use strict';\n\n  jsPDF = jsPDF && jsPDF.hasOwnProperty('default') ? jsPDF['default'] : jsPDF;\n  html2canvas = html2canvas && html2canvas.hasOwnProperty('default') ? html2canvas['default'] : html2canvas;\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n\n  // Determine the type of a variable/object.\n  var objType = function objType(obj) {\n    var type = typeof obj === 'undefined' ? 'undefined' : _typeof(obj);\n    if (type === 'undefined') return 'undefined';else if (type === 'string' || obj instanceof String) return 'string';else if (type === 'number' || obj instanceof Number) return 'number';else if (type === 'function' || obj instanceof Function) return 'function';else if (!!obj && obj.constructor === Array) return 'array';else if (obj && obj.nodeType === 1) return 'element';else if (type === 'object') return 'object';else return 'unknown';\n  };\n\n  // Create an HTML element with optional className, innerHTML, and style.\n  var createElement = function createElement(tagName, opt) {\n    var el = document.createElement(tagName);\n    if (opt.className) el.className = opt.className;\n    if (opt.innerHTML) {\n      el.innerHTML = opt.innerHTML;\n      var scripts = el.getElementsByTagName('script');\n      for (var i = scripts.length; i-- > 0; null) {\n        scripts[i].parentNode.removeChild(scripts[i]);\n      }\n    }\n    for (var key in opt.style) {\n      el.style[key] = opt.style[key];\n    }\n    return el;\n  };\n\n  // Deep-clone a node and preserve contents/properties.\n  var cloneNode = function cloneNode(node, javascriptEnabled) {\n    // Recursively clone the node.\n    var clone = node.nodeType === 3 ? document.createTextNode(node.nodeValue) : node.cloneNode(false);\n    for (var child = node.firstChild; child; child = child.nextSibling) {\n      if (javascriptEnabled === true || child.nodeType !== 1 || child.nodeName !== 'SCRIPT') {\n        clone.appendChild(cloneNode(child, javascriptEnabled));\n      }\n    }\n    if (node.nodeType === 1) {\n      // Preserve contents/properties of special nodes.\n      if (node.nodeName === 'CANVAS') {\n        clone.width = node.width;\n        clone.height = node.height;\n        clone.getContext('2d').drawImage(node, 0, 0);\n      } else if (node.nodeName === 'TEXTAREA' || node.nodeName === 'SELECT') {\n        clone.value = node.value;\n      }\n\n      // Preserve the node's scroll position when it loads.\n      clone.addEventListener('load', function () {\n        clone.scrollTop = node.scrollTop;\n        clone.scrollLeft = node.scrollLeft;\n      }, true);\n    }\n\n    // Return the cloned node.\n    return clone;\n  };\n\n  // Convert units using the conversion value 'k' from jsPDF.\n  var unitConvert = function unitConvert(obj, k) {\n    var newObj = {};\n    for (var key in obj) {\n      newObj[key] = obj[key] * 72 / 96 / k;\n    }\n    return newObj;\n  };\n\n  /* ----- CONSTRUCTOR ----- */\n\n  var Worker = function Worker(opt) {\n    // Create the root parent for the proto chain, and the starting Worker.\n    var root = _extends(Worker.convert(Promise.resolve()), JSON.parse(JSON.stringify(Worker.template)));\n    var self = Worker.convert(Promise.resolve(), root);\n\n    // Set progress, optional settings, and return.\n    self = self.setProgress(1, Worker, 1, [Worker]);\n    self = self.set(opt);\n    return self;\n  };\n\n  // Boilerplate for subclassing Promise.\n  Worker.prototype = Object.create(Promise.prototype);\n  Worker.prototype.constructor = Worker;\n\n  // Converts/casts promises into Workers.\n  Worker.convert = function convert(promise, inherit) {\n    // Uses prototypal inheritance to receive changes made to ancestors' properties.\n    promise.__proto__ = inherit || Worker.prototype;\n    return promise;\n  };\n  Worker.template = {\n    prop: {\n      src: null,\n      container: null,\n      overlay: null,\n      canvas: null,\n      img: null,\n      pdf: null,\n      pageSize: null\n    },\n    progress: {\n      val: 0,\n      state: null,\n      n: 0,\n      stack: []\n    },\n    opt: {\n      filename: 'file.pdf',\n      margin: [0, 0, 0, 0],\n      image: {\n        type: 'jpeg',\n        quality: 0.95\n      },\n      enableLinks: true,\n      html2canvas: {},\n      jsPDF: {}\n    }\n  };\n\n  /* ----- FROM / TO ----- */\n\n  Worker.prototype.from = function from(src, type) {\n    function getType(src) {\n      switch (objType(src)) {\n        case 'string':\n          return 'string';\n        case 'element':\n          return src.nodeName.toLowerCase === 'canvas' ? 'canvas' : 'element';\n        default:\n          return 'unknown';\n      }\n    }\n    return this.then(function from_main() {\n      type = type || getType(src);\n      switch (type) {\n        case 'string':\n          return this.set({\n            src: createElement('div', {\n              innerHTML: src\n            })\n          });\n        case 'element':\n          return this.set({\n            src: src\n          });\n        case 'canvas':\n          return this.set({\n            canvas: src\n          });\n        case 'img':\n          return this.set({\n            img: src\n          });\n        default:\n          return this.error('Unknown source type.');\n      }\n    });\n  };\n  Worker.prototype.to = function to(target) {\n    // Route the 'to' request to the appropriate method.\n    switch (target) {\n      case 'container':\n        return this.toContainer();\n      case 'canvas':\n        return this.toCanvas();\n      case 'img':\n        return this.toImg();\n      case 'pdf':\n        return this.toPdf();\n      default:\n        return this.error('Invalid target.');\n    }\n  };\n  Worker.prototype.toContainer = function toContainer() {\n    // Set up function prerequisites.\n    var prereqs = [function checkSrc() {\n      return this.prop.src || this.error('Cannot duplicate - no source HTML.');\n    }, function checkPageSize() {\n      return this.prop.pageSize || this.setPageSize();\n    }];\n    return this.thenList(prereqs).then(function toContainer_main() {\n      // Define the CSS styles for the container and its overlay parent.\n      var overlayCSS = {\n        position: 'fixed',\n        overflow: 'hidden',\n        zIndex: 1000,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        top: 0,\n        backgroundColor: 'rgba(0,0,0,0.8)'\n      };\n      var containerCSS = {\n        position: 'absolute',\n        width: this.prop.pageSize.inner.width + this.prop.pageSize.unit,\n        left: 0,\n        right: 0,\n        top: 0,\n        height: 'auto',\n        margin: 'auto',\n        backgroundColor: 'white'\n      };\n\n      // Set the overlay to hidden (could be changed in the future to provide a print preview).\n      overlayCSS.opacity = 0;\n\n      // Create and attach the elements.\n      var source = cloneNode(this.prop.src, this.opt.html2canvas.javascriptEnabled);\n      this.prop.overlay = createElement('div', {\n        className: 'html2pdf__overlay',\n        style: overlayCSS\n      });\n      this.prop.container = createElement('div', {\n        className: 'html2pdf__container',\n        style: containerCSS\n      });\n      this.prop.container.appendChild(source);\n      this.prop.overlay.appendChild(this.prop.container);\n      document.body.appendChild(this.prop.overlay);\n    });\n  };\n  Worker.prototype.toCanvas = function toCanvas() {\n    // Set up function prerequisites.\n    var prereqs = [function checkContainer() {\n      return document.body.contains(this.prop.container) || this.toContainer();\n    }];\n\n    // Fulfill prereqs then create the canvas.\n    return this.thenList(prereqs).then(function toCanvas_main() {\n      // Handle old-fashioned 'onrendered' argument.\n      var options = _extends({}, this.opt.html2canvas);\n      delete options.onrendered;\n      return html2canvas(this.prop.container, options);\n    }).then(function toCanvas_post(canvas) {\n      // Handle old-fashioned 'onrendered' argument.\n      var onRendered = this.opt.html2canvas.onrendered || function () {};\n      onRendered(canvas);\n      this.prop.canvas = canvas;\n      document.body.removeChild(this.prop.overlay);\n    });\n  };\n  Worker.prototype.toImg = function toImg() {\n    // Set up function prerequisites.\n    var prereqs = [function checkCanvas() {\n      return this.prop.canvas || this.toCanvas();\n    }];\n\n    // Fulfill prereqs then create the image.\n    return this.thenList(prereqs).then(function toImg_main() {\n      var imgData = this.prop.canvas.toDataURL('image/' + this.opt.image.type, this.opt.image.quality);\n      this.prop.img = document.createElement('img');\n      this.prop.img.src = imgData;\n    });\n  };\n  Worker.prototype.toPdf = function toPdf() {\n    // Set up function prerequisites.\n    var prereqs = [function checkCanvas() {\n      return this.prop.canvas || this.toCanvas();\n    }];\n\n    // Fulfill prereqs then create the image.\n    return this.thenList(prereqs).then(function toPdf_main() {\n      // Create local copies of frequently used properties.\n      var canvas = this.prop.canvas;\n      var opt = this.opt;\n\n      // Calculate the number of pages.\n      var ctx = canvas.getContext('2d');\n      var pxFullHeight = canvas.height;\n      var pxPageHeight = Math.floor(canvas.width * this.prop.pageSize.inner.ratio);\n      var nPages = Math.ceil(pxFullHeight / pxPageHeight);\n\n      // Define pageHeight separately so it can be trimmed on the final page.\n      var pageHeight = this.prop.pageSize.inner.height;\n\n      // Create a one-page canvas to split up the full image.\n      var pageCanvas = document.createElement('canvas');\n      var pageCtx = pageCanvas.getContext('2d');\n      pageCanvas.width = canvas.width;\n      pageCanvas.height = pxPageHeight;\n\n      // Initialize the PDF.\n      this.prop.pdf = this.prop.pdf || new jsPDF(opt.jsPDF);\n      for (var page = 0; page < nPages; page++) {\n        // Trim the final page to reduce file size.\n        if (page === nPages - 1) {\n          pageCanvas.height = pxFullHeight % pxPageHeight;\n          pageHeight = pageCanvas.height * this.prop.pageSize.inner.width / pageCanvas.width;\n        }\n\n        // Display the page.\n        var w = pageCanvas.width;\n        var h = pageCanvas.height;\n        pageCtx.fillStyle = 'white';\n        pageCtx.fillRect(0, 0, w, h);\n        pageCtx.drawImage(canvas, 0, page * pxPageHeight, w, h, 0, 0, w, h);\n\n        // Add the page to the PDF.\n        if (page) this.prop.pdf.addPage();\n        var imgData = pageCanvas.toDataURL('image/' + opt.image.type, opt.image.quality);\n        this.prop.pdf.addImage(imgData, opt.image.type, opt.margin[1], opt.margin[0], this.prop.pageSize.inner.width, pageHeight);\n      }\n    });\n  };\n\n  /* ----- OUTPUT / SAVE ----- */\n\n  Worker.prototype.output = function output(type, options, src) {\n    // Redirect requests to the correct function (outputPdf / outputImg).\n    src = src || 'pdf';\n    if (src.toLowerCase() === 'img' || src.toLowerCase() === 'image') {\n      return this.outputImg(type, options);\n    } else {\n      return this.outputPdf(type, options);\n    }\n  };\n  Worker.prototype.outputPdf = function outputPdf(type, options) {\n    // Set up function prerequisites.\n    var prereqs = [function checkPdf() {\n      return this.prop.pdf || this.toPdf();\n    }];\n\n    // Fulfill prereqs then perform the appropriate output.\n    return this.thenList(prereqs).then(function outputPdf_main() {\n      /* Currently implemented output types:\n       *    https://rawgit.com/MrRio/jsPDF/master/docs/jspdf.js.html#line992\n       *  save(options), arraybuffer, blob, bloburi/bloburl,\n       *  datauristring/dataurlstring, dataurlnewwindow, datauri/dataurl\n       */\n      return this.prop.pdf.output(type, options);\n    });\n  };\n  Worker.prototype.outputImg = function outputImg(type, options) {\n    // Set up function prerequisites.\n    var prereqs = [function checkImg() {\n      return this.prop.img || this.toImg();\n    }];\n\n    // Fulfill prereqs then perform the appropriate output.\n    return this.thenList(prereqs).then(function outputImg_main() {\n      switch (type) {\n        case undefined:\n        case 'img':\n          return this.prop.img;\n        case 'datauristring':\n        case 'dataurlstring':\n          return this.prop.img.src;\n        case 'datauri':\n        case 'dataurl':\n          return document.location.href = this.prop.img.src;\n        default:\n          throw 'Image output type \"' + type + '\" is not supported.';\n      }\n    });\n  };\n  Worker.prototype.save = function save(filename) {\n    // Set up function prerequisites.\n    var prereqs = [function checkPdf() {\n      return this.prop.pdf || this.toPdf();\n    }];\n\n    // Fulfill prereqs, update the filename (if provided), and save the PDF.\n    return this.thenList(prereqs).set(filename ? {\n      filename: filename\n    } : null).then(function save_main() {\n      this.prop.pdf.save(this.opt.filename);\n    });\n  };\n\n  /* ----- SET / GET ----- */\n\n  Worker.prototype.set = function set$$1(opt) {\n    // TODO: Implement ordered pairs?\n\n    // Silently ignore invalid or empty input.\n    if (objType(opt) !== 'object') {\n      return this;\n    }\n\n    // Build an array of setter functions to queue.\n    var fns = Object.keys(opt || {}).map(function (key) {\n      if (key in Worker.template.prop) {\n        // Set pre-defined properties.\n        return function set_prop() {\n          this.prop[key] = opt[key];\n        };\n      } else {\n        switch (key) {\n          case 'margin':\n            return this.setMargin.bind(this, opt.margin);\n          case 'jsPDF':\n            return function set_jsPDF() {\n              this.opt.jsPDF = opt.jsPDF;\n              return this.setPageSize();\n            };\n          case 'pageSize':\n            return this.setPageSize.bind(this, opt.pageSize);\n          default:\n            // Set any other properties in opt.\n            return function set_opt() {\n              this.opt[key] = opt[key];\n            };\n        }\n      }\n    }, this);\n\n    // Set properties within the promise chain.\n    return this.then(function set_main() {\n      return this.thenList(fns);\n    });\n  };\n  Worker.prototype.get = function get$$1(key, cbk) {\n    return this.then(function get_main() {\n      // Fetch the requested property, either as a predefined prop or in opt.\n      var val = key in Worker.template.prop ? this.prop[key] : this.opt[key];\n      return cbk ? cbk(val) : val;\n    });\n  };\n  Worker.prototype.setMargin = function setMargin(margin) {\n    return this.then(function setMargin_main() {\n      // Parse the margin property.\n      switch (objType(margin)) {\n        case 'number':\n          margin = [margin, margin, margin, margin];\n        case 'array':\n          if (margin.length === 2) {\n            margin = [margin[0], margin[1], margin[0], margin[1]];\n          }\n          if (margin.length === 4) {\n            break;\n          }\n        default:\n          return this.error('Invalid margin array.');\n      }\n\n      // Set the margin property, then update pageSize.\n      this.opt.margin = margin;\n    }).then(this.setPageSize);\n  };\n  Worker.prototype.setPageSize = function setPageSize(pageSize) {\n    function toPx(val, k) {\n      return Math.floor(val * k / 72 * 96);\n    }\n    return this.then(function setPageSize_main() {\n      // Retrieve page-size based on jsPDF settings, if not explicitly provided.\n      pageSize = pageSize || jsPDF.getPageSize(this.opt.jsPDF);\n\n      // Add 'inner' field if not present.\n      if (!pageSize.hasOwnProperty('inner')) {\n        pageSize.inner = {\n          width: pageSize.width - this.opt.margin[1] - this.opt.margin[3],\n          height: pageSize.height - this.opt.margin[0] - this.opt.margin[2]\n        };\n        pageSize.inner.px = {\n          width: toPx(pageSize.inner.width, pageSize.k),\n          height: toPx(pageSize.inner.height, pageSize.k)\n        };\n        pageSize.inner.ratio = pageSize.inner.height / pageSize.inner.width;\n      }\n\n      // Attach pageSize to this.\n      this.prop.pageSize = pageSize;\n    });\n  };\n  Worker.prototype.setProgress = function setProgress(val, state, n, stack) {\n    // Immediately update all progress values.\n    if (val != null) this.progress.val = val;\n    if (state != null) this.progress.state = state;\n    if (n != null) this.progress.n = n;\n    if (stack != null) this.progress.stack = stack;\n    this.progress.ratio = this.progress.val / this.progress.state;\n\n    // Return this for command chaining.\n    return this;\n  };\n  Worker.prototype.updateProgress = function updateProgress(val, state, n, stack) {\n    // Immediately update all progress values, using setProgress.\n    return this.setProgress(val ? this.progress.val + val : null, state ? state : null, n ? this.progress.n + n : null, stack ? this.progress.stack.concat(stack) : null);\n  };\n\n  /* ----- PROMISE MAPPING ----- */\n\n  Worker.prototype.then = function then(onFulfilled, onRejected) {\n    // Wrap `this` for encapsulation.\n    var self = this;\n    return this.thenCore(onFulfilled, onRejected, function then_main(onFulfilled, onRejected) {\n      // Update progress while queuing, calling, and resolving `then`.\n      self.updateProgress(null, null, 1, [onFulfilled]);\n      return Promise.prototype.then.call(this, function then_pre(val) {\n        self.updateProgress(null, onFulfilled);\n        return val;\n      }).then(onFulfilled, onRejected).then(function then_post(val) {\n        self.updateProgress(1);\n        return val;\n      });\n    });\n  };\n  Worker.prototype.thenCore = function thenCore(onFulfilled, onRejected, thenBase) {\n    // Handle optional thenBase parameter.\n    thenBase = thenBase || Promise.prototype.then;\n\n    // Wrap `this` for encapsulation and bind it to the promise handlers.\n    var self = this;\n    if (onFulfilled) {\n      onFulfilled = onFulfilled.bind(self);\n    }\n    if (onRejected) {\n      onRejected = onRejected.bind(self);\n    }\n\n    // Cast self into a Promise to avoid polyfills recursively defining `then`.\n    var isNative = Promise.toString().indexOf('[native code]') !== -1 && Promise.name === 'Promise';\n    var selfPromise = isNative ? self : Worker.convert(_extends({}, self), Promise.prototype);\n\n    // Return the promise, after casting it into a Worker and preserving props.\n    var returnVal = thenBase.call(selfPromise, onFulfilled, onRejected);\n    return Worker.convert(returnVal, self.__proto__);\n  };\n  Worker.prototype.thenExternal = function thenExternal(onFulfilled, onRejected) {\n    // Call `then` and return a standard promise (exits the Worker chain).\n    return Promise.prototype.then.call(this, onFulfilled, onRejected);\n  };\n  Worker.prototype.thenList = function thenList(fns) {\n    // Queue a series of promise 'factories' into the promise chain.\n    var self = this;\n    fns.forEach(function thenList_forEach(fn) {\n      self = self.thenCore(fn);\n    });\n    return self;\n  };\n  Worker.prototype['catch'] = function (onRejected) {\n    // Bind `this` to the promise handler, call `catch`, and return a Worker.\n    if (onRejected) {\n      onRejected = onRejected.bind(this);\n    }\n    var returnVal = Promise.prototype['catch'].call(this, onRejected);\n    return Worker.convert(returnVal, this);\n  };\n  Worker.prototype.catchExternal = function catchExternal(onRejected) {\n    // Call `catch` and return a standard promise (exits the Worker chain).\n    return Promise.prototype['catch'].call(this, onRejected);\n  };\n  Worker.prototype.error = function error(msg) {\n    // Throw the error in the Promise chain.\n    return this.then(function error_main() {\n      throw new Error(msg);\n    });\n  };\n\n  /* ----- ALIASES ----- */\n\n  Worker.prototype.using = Worker.prototype.set;\n  Worker.prototype.saveAs = Worker.prototype.save;\n  Worker.prototype.export = Worker.prototype.output;\n  Worker.prototype.run = Worker.prototype.then;\n\n  // Import dependencies.\n  // Get dimensions of a PDF page, as determined by jsPDF.\n  jsPDF.getPageSize = function (orientation, unit, format) {\n    // Decode options object\n    if ((typeof orientation === 'undefined' ? 'undefined' : _typeof(orientation)) === 'object') {\n      var options = orientation;\n      orientation = options.orientation;\n      unit = options.unit || unit;\n      format = options.format || format;\n    }\n\n    // Default options\n    unit = unit || 'mm';\n    format = format || 'a4';\n    orientation = ('' + (orientation || 'P')).toLowerCase();\n    var format_as_string = ('' + format).toLowerCase();\n\n    // Size in pt of various paper formats\n    var pageFormats = {\n      'a0': [2383.94, 3370.39],\n      'a1': [1683.78, 2383.94],\n      'a2': [1190.55, 1683.78],\n      'a3': [841.89, 1190.55],\n      'a4': [595.28, 841.89],\n      'a5': [419.53, 595.28],\n      'a6': [297.64, 419.53],\n      'a7': [209.76, 297.64],\n      'a8': [147.40, 209.76],\n      'a9': [104.88, 147.40],\n      'a10': [73.70, 104.88],\n      'b0': [2834.65, 4008.19],\n      'b1': [2004.09, 2834.65],\n      'b2': [1417.32, 2004.09],\n      'b3': [1000.63, 1417.32],\n      'b4': [708.66, 1000.63],\n      'b5': [498.90, 708.66],\n      'b6': [354.33, 498.90],\n      'b7': [249.45, 354.33],\n      'b8': [175.75, 249.45],\n      'b9': [124.72, 175.75],\n      'b10': [87.87, 124.72],\n      'c0': [2599.37, 3676.54],\n      'c1': [1836.85, 2599.37],\n      'c2': [1298.27, 1836.85],\n      'c3': [918.43, 1298.27],\n      'c4': [649.13, 918.43],\n      'c5': [459.21, 649.13],\n      'c6': [323.15, 459.21],\n      'c7': [229.61, 323.15],\n      'c8': [161.57, 229.61],\n      'c9': [113.39, 161.57],\n      'c10': [79.37, 113.39],\n      'dl': [311.81, 623.62],\n      'letter': [612, 792],\n      'government-letter': [576, 756],\n      'legal': [612, 1008],\n      'junior-legal': [576, 360],\n      'ledger': [1224, 792],\n      'tabloid': [792, 1224],\n      'credit-card': [153, 243]\n    };\n\n    // Unit conversion\n    switch (unit) {\n      case 'pt':\n        var k = 1;\n        break;\n      case 'mm':\n        var k = 72 / 25.4;\n        break;\n      case 'cm':\n        var k = 72 / 2.54;\n        break;\n      case 'in':\n        var k = 72;\n        break;\n      case 'px':\n        var k = 72 / 96;\n        break;\n      case 'pc':\n        var k = 12;\n        break;\n      case 'em':\n        var k = 12;\n        break;\n      case 'ex':\n        var k = 6;\n        break;\n      default:\n        throw 'Invalid unit: ' + unit;\n    }\n\n    // Dimensions are stored as user units and converted to points on output\n    if (pageFormats.hasOwnProperty(format_as_string)) {\n      var pageHeight = pageFormats[format_as_string][1] / k;\n      var pageWidth = pageFormats[format_as_string][0] / k;\n    } else {\n      try {\n        var pageHeight = format[1];\n        var pageWidth = format[0];\n      } catch (err) {\n        throw new Error('Invalid format: ' + format);\n      }\n    }\n\n    // Handle page orientation\n    if (orientation === 'p' || orientation === 'portrait') {\n      orientation = 'p';\n      if (pageWidth > pageHeight) {\n        var tmp = pageWidth;\n        pageWidth = pageHeight;\n        pageHeight = tmp;\n      }\n    } else if (orientation === 'l' || orientation === 'landscape') {\n      orientation = 'l';\n      if (pageHeight > pageWidth) {\n        var tmp = pageWidth;\n        pageWidth = pageHeight;\n        pageHeight = tmp;\n      }\n    } else {\n      throw 'Invalid orientation: ' + orientation;\n    }\n\n    // Return information (k is the unit conversion ratio from pts)\n    var info = {\n      'width': pageWidth,\n      'height': pageHeight,\n      'unit': unit,\n      'k': k\n    };\n    return info;\n  };\n  var orig = {\n    toContainer: Worker.prototype.toContainer\n  };\n  Worker.prototype.toContainer = function toContainer() {\n    return orig.toContainer.call(this).then(function toContainer_pagebreak() {\n      // Enable page-breaks.\n      var pageBreaks = this.prop.container.querySelectorAll('.html2pdf__page-break');\n      var pxPageHeight = this.prop.pageSize.inner.px.height;\n      Array.prototype.forEach.call(pageBreaks, function pageBreak_loop(el) {\n        el.style.display = 'block';\n        var clientRect = el.getBoundingClientRect();\n        el.style.height = pxPageHeight - clientRect.top % pxPageHeight + 'px';\n      }, this);\n    });\n  };\n\n  // Add hyperlink functionality to the PDF creation.\n\n  // Main link array, and refs to original functions.\n  var linkInfo = [];\n  var orig$1 = {\n    toContainer: Worker.prototype.toContainer,\n    toPdf: Worker.prototype.toPdf\n  };\n  Worker.prototype.toContainer = function toContainer() {\n    return orig$1.toContainer.call(this).then(function toContainer_hyperlink() {\n      // Retrieve hyperlink info if the option is enabled.\n      if (this.opt.enableLinks) {\n        // Find all anchor tags and get the container's bounds for reference.\n        var container = this.prop.container;\n        var links = container.querySelectorAll('a');\n        var containerRect = unitConvert(container.getBoundingClientRect(), this.prop.pageSize.k);\n        linkInfo = [];\n\n        // Loop through each anchor tag.\n        Array.prototype.forEach.call(links, function (link) {\n          // Treat each client rect as a separate link (for text-wrapping).\n          var clientRects = link.getClientRects();\n          for (var i = 0; i < clientRects.length; i++) {\n            var clientRect = unitConvert(clientRects[i], this.prop.pageSize.k);\n            clientRect.left -= containerRect.left;\n            clientRect.top -= containerRect.top;\n            var page = Math.floor(clientRect.top / this.prop.pageSize.inner.height) + 1;\n            var top = this.opt.margin[0] + clientRect.top % this.prop.pageSize.inner.height;\n            var left = this.opt.margin[1] + clientRect.left;\n            linkInfo.push({\n              page: page,\n              top: top,\n              left: left,\n              clientRect: clientRect,\n              link: link\n            });\n          }\n        }, this);\n      }\n    });\n  };\n  Worker.prototype.toPdf = function toPdf() {\n    return orig$1.toPdf.call(this).then(function toPdf_hyperlink() {\n      // Add hyperlinks if the option is enabled.\n      if (this.opt.enableLinks) {\n        // Attach each anchor tag based on info from toContainer().\n        linkInfo.forEach(function (l) {\n          this.prop.pdf.setPage(l.page);\n          this.prop.pdf.link(l.left, l.top, l.clientRect.width, l.clientRect.height, {\n            url: l.link.href\n          });\n        }, this);\n\n        // Reset the active page of the PDF to the final page.\n        var nPages = this.prop.pdf.internal.getNumberOfPages();\n        this.prop.pdf.setPage(nPages);\n      }\n    });\n  };\n\n  /**\n   * Generate a PDF from an HTML element or string using html2canvas and jsPDF.\n   *\n   * @param {Element|string} source The source element or HTML string.\n   * @param {Object=} opt An object of optional settings: 'margin', 'filename',\n   *    'image' ('type' and 'quality'), and 'html2canvas' / 'jspdf', which are\n   *    sent as settings to their corresponding functions.\n   */\n  var html2pdf = function html2pdf(src, opt) {\n    // Create a new worker with the given options.\n    var worker = new html2pdf.Worker(opt);\n    if (src) {\n      // If src is specified, perform the traditional 'simple' operation.\n      return worker.from(src).save();\n    } else {\n      // Otherwise, return the worker for new Promise-based operation.\n      return worker;\n    }\n  };\n  html2pdf.Worker = Worker;\n  return html2pdf;\n});","map":{"version":3,"names":["global","factory","exports","module","require","define","amd","html2pdf","jsPDF","html2canvas","auto","hasOwnProperty","_typeof","Symbol","iterator","obj","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","key","call","objType","type","String","Number","Function","Array","nodeType","createElement","tagName","opt","el","document","className","innerHTML","scripts","getElementsByTagName","parentNode","removeChild","style","cloneNode","node","javascriptEnabled","clone","createTextNode","nodeValue","child","firstChild","nextSibling","nodeName","appendChild","width","height","getContext","drawImage","value","addEventListener","scrollTop","scrollLeft","unitConvert","k","newObj","Worker","root","convert","Promise","resolve","JSON","parse","stringify","template","self","setProgress","set","create","promise","inherit","__proto__","prop","src","container","overlay","canvas","img","pdf","pageSize","progress","val","state","n","stack","filename","margin","image","quality","enableLinks","from","getType","toLowerCase","then","from_main","error","to","toContainer","toCanvas","toImg","toPdf","prereqs","checkSrc","checkPageSize","setPageSize","thenList","toContainer_main","overlayCSS","position","overflow","zIndex","left","right","bottom","top","backgroundColor","containerCSS","inner","unit","opacity","body","checkContainer","contains","toCanvas_main","options","onrendered","toCanvas_post","onRendered","checkCanvas","toImg_main","imgData","toDataURL","toPdf_main","ctx","pxFullHeight","pxPageHeight","Math","floor","ratio","nPages","ceil","pageHeight","pageCanvas","pageCtx","page","w","h","fillStyle","fillRect","addPage","addImage","output","outputImg","outputPdf","checkPdf","outputPdf_main","checkImg","outputImg_main","undefined","location","href","save","save_main","set$$1","fns","keys","map","set_prop","setMargin","bind","set_jsPDF","set_opt","set_main","get","get$$1","cbk","get_main","setMargin_main","toPx","setPageSize_main","getPageSize","px","updateProgress","concat","onFulfilled","onRejected","thenCore","then_main","then_pre","then_post","thenBase","isNative","toString","indexOf","name","selfPromise","returnVal","thenExternal","forEach","thenList_forEach","fn","catchExternal","msg","error_main","Error","using","saveAs","export","run","orientation","format","format_as_string","pageFormats","pageWidth","err","tmp","info","orig","toContainer_pagebreak","pageBreaks","querySelectorAll","pageBreak_loop","display","clientRect","getBoundingClientRect","linkInfo","orig$1","toContainer_hyperlink","links","containerRect","link","clientRects","getClientRects","push","toPdf_hyperlink","l","setPage","url","internal","getNumberOfPages","worker"],"sources":["C:/Users/broad/OneDrive/Documentos/FULLSTACK-TEST/pokedex/client/node_modules/html2pdf.js/dist/html2pdf.js"],"sourcesContent":["/**\n * html2pdf.js v0.9.0\n * Copyright (c) 2018 Erik Koopmans\n * Released under the MIT License.\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('es6-promise/auto'), require('jspdf'), require('html2canvas')) :\n\ttypeof define === 'function' && define.amd ? define(['es6-promise/auto', 'jspdf', 'html2canvas'], factory) :\n\t(global.html2pdf = factory(null,global.jsPDF,global.html2canvas));\n}(this, (function (auto,jsPDF,html2canvas) { 'use strict';\n\njsPDF = jsPDF && jsPDF.hasOwnProperty('default') ? jsPDF['default'] : jsPDF;\nhtml2canvas = html2canvas && html2canvas.hasOwnProperty('default') ? html2canvas['default'] : html2canvas;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n// Determine the type of a variable/object.\nvar objType = function objType(obj) {\n  var type = typeof obj === 'undefined' ? 'undefined' : _typeof(obj);\n  if (type === 'undefined') return 'undefined';else if (type === 'string' || obj instanceof String) return 'string';else if (type === 'number' || obj instanceof Number) return 'number';else if (type === 'function' || obj instanceof Function) return 'function';else if (!!obj && obj.constructor === Array) return 'array';else if (obj && obj.nodeType === 1) return 'element';else if (type === 'object') return 'object';else return 'unknown';\n};\n\n// Create an HTML element with optional className, innerHTML, and style.\nvar createElement = function createElement(tagName, opt) {\n  var el = document.createElement(tagName);\n  if (opt.className) el.className = opt.className;\n  if (opt.innerHTML) {\n    el.innerHTML = opt.innerHTML;\n    var scripts = el.getElementsByTagName('script');\n    for (var i = scripts.length; i-- > 0; null) {\n      scripts[i].parentNode.removeChild(scripts[i]);\n    }\n  }\n  for (var key in opt.style) {\n    el.style[key] = opt.style[key];\n  }\n  return el;\n};\n\n// Deep-clone a node and preserve contents/properties.\nvar cloneNode = function cloneNode(node, javascriptEnabled) {\n  // Recursively clone the node.\n  var clone = node.nodeType === 3 ? document.createTextNode(node.nodeValue) : node.cloneNode(false);\n  for (var child = node.firstChild; child; child = child.nextSibling) {\n    if (javascriptEnabled === true || child.nodeType !== 1 || child.nodeName !== 'SCRIPT') {\n      clone.appendChild(cloneNode(child, javascriptEnabled));\n    }\n  }\n\n  if (node.nodeType === 1) {\n    // Preserve contents/properties of special nodes.\n    if (node.nodeName === 'CANVAS') {\n      clone.width = node.width;\n      clone.height = node.height;\n      clone.getContext('2d').drawImage(node, 0, 0);\n    } else if (node.nodeName === 'TEXTAREA' || node.nodeName === 'SELECT') {\n      clone.value = node.value;\n    }\n\n    // Preserve the node's scroll position when it loads.\n    clone.addEventListener('load', function () {\n      clone.scrollTop = node.scrollTop;\n      clone.scrollLeft = node.scrollLeft;\n    }, true);\n  }\n\n  // Return the cloned node.\n  return clone;\n};\n\n// Convert units using the conversion value 'k' from jsPDF.\nvar unitConvert = function unitConvert(obj, k) {\n  var newObj = {};\n  for (var key in obj) {\n    newObj[key] = obj[key] * 72 / 96 / k;\n  }\n  return newObj;\n};\n\n/* ----- CONSTRUCTOR ----- */\n\nvar Worker = function Worker(opt) {\n  // Create the root parent for the proto chain, and the starting Worker.\n  var root = _extends(Worker.convert(Promise.resolve()), JSON.parse(JSON.stringify(Worker.template)));\n  var self = Worker.convert(Promise.resolve(), root);\n\n  // Set progress, optional settings, and return.\n  self = self.setProgress(1, Worker, 1, [Worker]);\n  self = self.set(opt);\n  return self;\n};\n\n// Boilerplate for subclassing Promise.\nWorker.prototype = Object.create(Promise.prototype);\nWorker.prototype.constructor = Worker;\n\n// Converts/casts promises into Workers.\nWorker.convert = function convert(promise, inherit) {\n  // Uses prototypal inheritance to receive changes made to ancestors' properties.\n  promise.__proto__ = inherit || Worker.prototype;\n  return promise;\n};\n\nWorker.template = {\n  prop: {\n    src: null,\n    container: null,\n    overlay: null,\n    canvas: null,\n    img: null,\n    pdf: null,\n    pageSize: null\n  },\n  progress: {\n    val: 0,\n    state: null,\n    n: 0,\n    stack: []\n  },\n  opt: {\n    filename: 'file.pdf',\n    margin: [0, 0, 0, 0],\n    image: { type: 'jpeg', quality: 0.95 },\n    enableLinks: true,\n    html2canvas: {},\n    jsPDF: {}\n  }\n};\n\n/* ----- FROM / TO ----- */\n\nWorker.prototype.from = function from(src, type) {\n  function getType(src) {\n    switch (objType(src)) {\n      case 'string':\n        return 'string';\n      case 'element':\n        return src.nodeName.toLowerCase === 'canvas' ? 'canvas' : 'element';\n      default:\n        return 'unknown';\n    }\n  }\n\n  return this.then(function from_main() {\n    type = type || getType(src);\n    switch (type) {\n      case 'string':\n        return this.set({ src: createElement('div', { innerHTML: src }) });\n      case 'element':\n        return this.set({ src: src });\n      case 'canvas':\n        return this.set({ canvas: src });\n      case 'img':\n        return this.set({ img: src });\n      default:\n        return this.error('Unknown source type.');\n    }\n  });\n};\n\nWorker.prototype.to = function to(target) {\n  // Route the 'to' request to the appropriate method.\n  switch (target) {\n    case 'container':\n      return this.toContainer();\n    case 'canvas':\n      return this.toCanvas();\n    case 'img':\n      return this.toImg();\n    case 'pdf':\n      return this.toPdf();\n    default:\n      return this.error('Invalid target.');\n  }\n};\n\nWorker.prototype.toContainer = function toContainer() {\n  // Set up function prerequisites.\n  var prereqs = [function checkSrc() {\n    return this.prop.src || this.error('Cannot duplicate - no source HTML.');\n  }, function checkPageSize() {\n    return this.prop.pageSize || this.setPageSize();\n  }];\n\n  return this.thenList(prereqs).then(function toContainer_main() {\n    // Define the CSS styles for the container and its overlay parent.\n    var overlayCSS = {\n      position: 'fixed', overflow: 'hidden', zIndex: 1000,\n      left: 0, right: 0, bottom: 0, top: 0,\n      backgroundColor: 'rgba(0,0,0,0.8)'\n    };\n    var containerCSS = {\n      position: 'absolute', width: this.prop.pageSize.inner.width + this.prop.pageSize.unit,\n      left: 0, right: 0, top: 0, height: 'auto', margin: 'auto',\n      backgroundColor: 'white'\n    };\n\n    // Set the overlay to hidden (could be changed in the future to provide a print preview).\n    overlayCSS.opacity = 0;\n\n    // Create and attach the elements.\n    var source = cloneNode(this.prop.src, this.opt.html2canvas.javascriptEnabled);\n    this.prop.overlay = createElement('div', { className: 'html2pdf__overlay', style: overlayCSS });\n    this.prop.container = createElement('div', { className: 'html2pdf__container', style: containerCSS });\n    this.prop.container.appendChild(source);\n    this.prop.overlay.appendChild(this.prop.container);\n    document.body.appendChild(this.prop.overlay);\n  });\n};\n\nWorker.prototype.toCanvas = function toCanvas() {\n  // Set up function prerequisites.\n  var prereqs = [function checkContainer() {\n    return document.body.contains(this.prop.container) || this.toContainer();\n  }];\n\n  // Fulfill prereqs then create the canvas.\n  return this.thenList(prereqs).then(function toCanvas_main() {\n    // Handle old-fashioned 'onrendered' argument.\n    var options = _extends({}, this.opt.html2canvas);\n    delete options.onrendered;\n\n    return html2canvas(this.prop.container, options);\n  }).then(function toCanvas_post(canvas) {\n    // Handle old-fashioned 'onrendered' argument.\n    var onRendered = this.opt.html2canvas.onrendered || function () {};\n    onRendered(canvas);\n\n    this.prop.canvas = canvas;\n    document.body.removeChild(this.prop.overlay);\n  });\n};\n\nWorker.prototype.toImg = function toImg() {\n  // Set up function prerequisites.\n  var prereqs = [function checkCanvas() {\n    return this.prop.canvas || this.toCanvas();\n  }];\n\n  // Fulfill prereqs then create the image.\n  return this.thenList(prereqs).then(function toImg_main() {\n    var imgData = this.prop.canvas.toDataURL('image/' + this.opt.image.type, this.opt.image.quality);\n    this.prop.img = document.createElement('img');\n    this.prop.img.src = imgData;\n  });\n};\n\nWorker.prototype.toPdf = function toPdf() {\n  // Set up function prerequisites.\n  var prereqs = [function checkCanvas() {\n    return this.prop.canvas || this.toCanvas();\n  }];\n\n  // Fulfill prereqs then create the image.\n  return this.thenList(prereqs).then(function toPdf_main() {\n    // Create local copies of frequently used properties.\n    var canvas = this.prop.canvas;\n    var opt = this.opt;\n\n    // Calculate the number of pages.\n    var ctx = canvas.getContext('2d');\n    var pxFullHeight = canvas.height;\n    var pxPageHeight = Math.floor(canvas.width * this.prop.pageSize.inner.ratio);\n    var nPages = Math.ceil(pxFullHeight / pxPageHeight);\n\n    // Define pageHeight separately so it can be trimmed on the final page.\n    var pageHeight = this.prop.pageSize.inner.height;\n\n    // Create a one-page canvas to split up the full image.\n    var pageCanvas = document.createElement('canvas');\n    var pageCtx = pageCanvas.getContext('2d');\n    pageCanvas.width = canvas.width;\n    pageCanvas.height = pxPageHeight;\n\n    // Initialize the PDF.\n    this.prop.pdf = this.prop.pdf || new jsPDF(opt.jsPDF);\n\n    for (var page = 0; page < nPages; page++) {\n      // Trim the final page to reduce file size.\n      if (page === nPages - 1) {\n        pageCanvas.height = pxFullHeight % pxPageHeight;\n        pageHeight = pageCanvas.height * this.prop.pageSize.inner.width / pageCanvas.width;\n      }\n\n      // Display the page.\n      var w = pageCanvas.width;\n      var h = pageCanvas.height;\n      pageCtx.fillStyle = 'white';\n      pageCtx.fillRect(0, 0, w, h);\n      pageCtx.drawImage(canvas, 0, page * pxPageHeight, w, h, 0, 0, w, h);\n\n      // Add the page to the PDF.\n      if (page) this.prop.pdf.addPage();\n      var imgData = pageCanvas.toDataURL('image/' + opt.image.type, opt.image.quality);\n      this.prop.pdf.addImage(imgData, opt.image.type, opt.margin[1], opt.margin[0], this.prop.pageSize.inner.width, pageHeight);\n    }\n  });\n};\n\n/* ----- OUTPUT / SAVE ----- */\n\nWorker.prototype.output = function output(type, options, src) {\n  // Redirect requests to the correct function (outputPdf / outputImg).\n  src = src || 'pdf';\n  if (src.toLowerCase() === 'img' || src.toLowerCase() === 'image') {\n    return this.outputImg(type, options);\n  } else {\n    return this.outputPdf(type, options);\n  }\n};\n\nWorker.prototype.outputPdf = function outputPdf(type, options) {\n  // Set up function prerequisites.\n  var prereqs = [function checkPdf() {\n    return this.prop.pdf || this.toPdf();\n  }];\n\n  // Fulfill prereqs then perform the appropriate output.\n  return this.thenList(prereqs).then(function outputPdf_main() {\n    /* Currently implemented output types:\n     *    https://rawgit.com/MrRio/jsPDF/master/docs/jspdf.js.html#line992\n     *  save(options), arraybuffer, blob, bloburi/bloburl,\n     *  datauristring/dataurlstring, dataurlnewwindow, datauri/dataurl\n     */\n    return this.prop.pdf.output(type, options);\n  });\n};\n\nWorker.prototype.outputImg = function outputImg(type, options) {\n  // Set up function prerequisites.\n  var prereqs = [function checkImg() {\n    return this.prop.img || this.toImg();\n  }];\n\n  // Fulfill prereqs then perform the appropriate output.\n  return this.thenList(prereqs).then(function outputImg_main() {\n    switch (type) {\n      case undefined:\n      case 'img':\n        return this.prop.img;\n      case 'datauristring':\n      case 'dataurlstring':\n        return this.prop.img.src;\n      case 'datauri':\n      case 'dataurl':\n        return document.location.href = this.prop.img.src;\n      default:\n        throw 'Image output type \"' + type + '\" is not supported.';\n    }\n  });\n};\n\nWorker.prototype.save = function save(filename) {\n  // Set up function prerequisites.\n  var prereqs = [function checkPdf() {\n    return this.prop.pdf || this.toPdf();\n  }];\n\n  // Fulfill prereqs, update the filename (if provided), and save the PDF.\n  return this.thenList(prereqs).set(filename ? { filename: filename } : null).then(function save_main() {\n    this.prop.pdf.save(this.opt.filename);\n  });\n};\n\n/* ----- SET / GET ----- */\n\nWorker.prototype.set = function set$$1(opt) {\n  // TODO: Implement ordered pairs?\n\n  // Silently ignore invalid or empty input.\n  if (objType(opt) !== 'object') {\n    return this;\n  }\n\n  // Build an array of setter functions to queue.\n  var fns = Object.keys(opt || {}).map(function (key) {\n    if (key in Worker.template.prop) {\n      // Set pre-defined properties.\n      return function set_prop() {\n        this.prop[key] = opt[key];\n      };\n    } else {\n      switch (key) {\n        case 'margin':\n          return this.setMargin.bind(this, opt.margin);\n        case 'jsPDF':\n          return function set_jsPDF() {\n            this.opt.jsPDF = opt.jsPDF;return this.setPageSize();\n          };\n        case 'pageSize':\n          return this.setPageSize.bind(this, opt.pageSize);\n        default:\n          // Set any other properties in opt.\n          return function set_opt() {\n            this.opt[key] = opt[key];\n          };\n      }\n    }\n  }, this);\n\n  // Set properties within the promise chain.\n  return this.then(function set_main() {\n    return this.thenList(fns);\n  });\n};\n\nWorker.prototype.get = function get$$1(key, cbk) {\n  return this.then(function get_main() {\n    // Fetch the requested property, either as a predefined prop or in opt.\n    var val = key in Worker.template.prop ? this.prop[key] : this.opt[key];\n    return cbk ? cbk(val) : val;\n  });\n};\n\nWorker.prototype.setMargin = function setMargin(margin) {\n  return this.then(function setMargin_main() {\n    // Parse the margin property.\n    switch (objType(margin)) {\n      case 'number':\n        margin = [margin, margin, margin, margin];\n      case 'array':\n        if (margin.length === 2) {\n          margin = [margin[0], margin[1], margin[0], margin[1]];\n        }\n        if (margin.length === 4) {\n          break;\n        }\n      default:\n        return this.error('Invalid margin array.');\n    }\n\n    // Set the margin property, then update pageSize.\n    this.opt.margin = margin;\n  }).then(this.setPageSize);\n};\n\nWorker.prototype.setPageSize = function setPageSize(pageSize) {\n  function toPx(val, k) {\n    return Math.floor(val * k / 72 * 96);\n  }\n\n  return this.then(function setPageSize_main() {\n    // Retrieve page-size based on jsPDF settings, if not explicitly provided.\n    pageSize = pageSize || jsPDF.getPageSize(this.opt.jsPDF);\n\n    // Add 'inner' field if not present.\n    if (!pageSize.hasOwnProperty('inner')) {\n      pageSize.inner = {\n        width: pageSize.width - this.opt.margin[1] - this.opt.margin[3],\n        height: pageSize.height - this.opt.margin[0] - this.opt.margin[2]\n      };\n      pageSize.inner.px = {\n        width: toPx(pageSize.inner.width, pageSize.k),\n        height: toPx(pageSize.inner.height, pageSize.k)\n      };\n      pageSize.inner.ratio = pageSize.inner.height / pageSize.inner.width;\n    }\n\n    // Attach pageSize to this.\n    this.prop.pageSize = pageSize;\n  });\n};\n\nWorker.prototype.setProgress = function setProgress(val, state, n, stack) {\n  // Immediately update all progress values.\n  if (val != null) this.progress.val = val;\n  if (state != null) this.progress.state = state;\n  if (n != null) this.progress.n = n;\n  if (stack != null) this.progress.stack = stack;\n  this.progress.ratio = this.progress.val / this.progress.state;\n\n  // Return this for command chaining.\n  return this;\n};\n\nWorker.prototype.updateProgress = function updateProgress(val, state, n, stack) {\n  // Immediately update all progress values, using setProgress.\n  return this.setProgress(val ? this.progress.val + val : null, state ? state : null, n ? this.progress.n + n : null, stack ? this.progress.stack.concat(stack) : null);\n};\n\n/* ----- PROMISE MAPPING ----- */\n\nWorker.prototype.then = function then(onFulfilled, onRejected) {\n  // Wrap `this` for encapsulation.\n  var self = this;\n\n  return this.thenCore(onFulfilled, onRejected, function then_main(onFulfilled, onRejected) {\n    // Update progress while queuing, calling, and resolving `then`.\n    self.updateProgress(null, null, 1, [onFulfilled]);\n    return Promise.prototype.then.call(this, function then_pre(val) {\n      self.updateProgress(null, onFulfilled);\n      return val;\n    }).then(onFulfilled, onRejected).then(function then_post(val) {\n      self.updateProgress(1);\n      return val;\n    });\n  });\n};\n\nWorker.prototype.thenCore = function thenCore(onFulfilled, onRejected, thenBase) {\n  // Handle optional thenBase parameter.\n  thenBase = thenBase || Promise.prototype.then;\n\n  // Wrap `this` for encapsulation and bind it to the promise handlers.\n  var self = this;\n  if (onFulfilled) {\n    onFulfilled = onFulfilled.bind(self);\n  }\n  if (onRejected) {\n    onRejected = onRejected.bind(self);\n  }\n\n  // Cast self into a Promise to avoid polyfills recursively defining `then`.\n  var isNative = Promise.toString().indexOf('[native code]') !== -1 && Promise.name === 'Promise';\n  var selfPromise = isNative ? self : Worker.convert(_extends({}, self), Promise.prototype);\n\n  // Return the promise, after casting it into a Worker and preserving props.\n  var returnVal = thenBase.call(selfPromise, onFulfilled, onRejected);\n  return Worker.convert(returnVal, self.__proto__);\n};\n\nWorker.prototype.thenExternal = function thenExternal(onFulfilled, onRejected) {\n  // Call `then` and return a standard promise (exits the Worker chain).\n  return Promise.prototype.then.call(this, onFulfilled, onRejected);\n};\n\nWorker.prototype.thenList = function thenList(fns) {\n  // Queue a series of promise 'factories' into the promise chain.\n  var self = this;\n  fns.forEach(function thenList_forEach(fn) {\n    self = self.thenCore(fn);\n  });\n  return self;\n};\n\nWorker.prototype['catch'] = function (onRejected) {\n  // Bind `this` to the promise handler, call `catch`, and return a Worker.\n  if (onRejected) {\n    onRejected = onRejected.bind(this);\n  }\n  var returnVal = Promise.prototype['catch'].call(this, onRejected);\n  return Worker.convert(returnVal, this);\n};\n\nWorker.prototype.catchExternal = function catchExternal(onRejected) {\n  // Call `catch` and return a standard promise (exits the Worker chain).\n  return Promise.prototype['catch'].call(this, onRejected);\n};\n\nWorker.prototype.error = function error(msg) {\n  // Throw the error in the Promise chain.\n  return this.then(function error_main() {\n    throw new Error(msg);\n  });\n};\n\n/* ----- ALIASES ----- */\n\nWorker.prototype.using = Worker.prototype.set;\nWorker.prototype.saveAs = Worker.prototype.save;\nWorker.prototype.export = Worker.prototype.output;\nWorker.prototype.run = Worker.prototype.then;\n\n// Import dependencies.\n// Get dimensions of a PDF page, as determined by jsPDF.\njsPDF.getPageSize = function (orientation, unit, format) {\n  // Decode options object\n  if ((typeof orientation === 'undefined' ? 'undefined' : _typeof(orientation)) === 'object') {\n    var options = orientation;\n    orientation = options.orientation;\n    unit = options.unit || unit;\n    format = options.format || format;\n  }\n\n  // Default options\n  unit = unit || 'mm';\n  format = format || 'a4';\n  orientation = ('' + (orientation || 'P')).toLowerCase();\n  var format_as_string = ('' + format).toLowerCase();\n\n  // Size in pt of various paper formats\n  var pageFormats = {\n    'a0': [2383.94, 3370.39], 'a1': [1683.78, 2383.94],\n    'a2': [1190.55, 1683.78], 'a3': [841.89, 1190.55],\n    'a4': [595.28, 841.89], 'a5': [419.53, 595.28],\n    'a6': [297.64, 419.53], 'a7': [209.76, 297.64],\n    'a8': [147.40, 209.76], 'a9': [104.88, 147.40],\n    'a10': [73.70, 104.88], 'b0': [2834.65, 4008.19],\n    'b1': [2004.09, 2834.65], 'b2': [1417.32, 2004.09],\n    'b3': [1000.63, 1417.32], 'b4': [708.66, 1000.63],\n    'b5': [498.90, 708.66], 'b6': [354.33, 498.90],\n    'b7': [249.45, 354.33], 'b8': [175.75, 249.45],\n    'b9': [124.72, 175.75], 'b10': [87.87, 124.72],\n    'c0': [2599.37, 3676.54], 'c1': [1836.85, 2599.37],\n    'c2': [1298.27, 1836.85], 'c3': [918.43, 1298.27],\n    'c4': [649.13, 918.43], 'c5': [459.21, 649.13],\n    'c6': [323.15, 459.21], 'c7': [229.61, 323.15],\n    'c8': [161.57, 229.61], 'c9': [113.39, 161.57],\n    'c10': [79.37, 113.39], 'dl': [311.81, 623.62],\n    'letter': [612, 792],\n    'government-letter': [576, 756],\n    'legal': [612, 1008],\n    'junior-legal': [576, 360],\n    'ledger': [1224, 792],\n    'tabloid': [792, 1224],\n    'credit-card': [153, 243]\n  };\n\n  // Unit conversion\n  switch (unit) {\n    case 'pt':\n      var k = 1;break;\n    case 'mm':\n      var k = 72 / 25.4;break;\n    case 'cm':\n      var k = 72 / 2.54;break;\n    case 'in':\n      var k = 72;break;\n    case 'px':\n      var k = 72 / 96;break;\n    case 'pc':\n      var k = 12;break;\n    case 'em':\n      var k = 12;break;\n    case 'ex':\n      var k = 6;break;\n    default:\n      throw 'Invalid unit: ' + unit;\n  }\n\n  // Dimensions are stored as user units and converted to points on output\n  if (pageFormats.hasOwnProperty(format_as_string)) {\n    var pageHeight = pageFormats[format_as_string][1] / k;\n    var pageWidth = pageFormats[format_as_string][0] / k;\n  } else {\n    try {\n      var pageHeight = format[1];\n      var pageWidth = format[0];\n    } catch (err) {\n      throw new Error('Invalid format: ' + format);\n    }\n  }\n\n  // Handle page orientation\n  if (orientation === 'p' || orientation === 'portrait') {\n    orientation = 'p';\n    if (pageWidth > pageHeight) {\n      var tmp = pageWidth;\n      pageWidth = pageHeight;\n      pageHeight = tmp;\n    }\n  } else if (orientation === 'l' || orientation === 'landscape') {\n    orientation = 'l';\n    if (pageHeight > pageWidth) {\n      var tmp = pageWidth;\n      pageWidth = pageHeight;\n      pageHeight = tmp;\n    }\n  } else {\n    throw 'Invalid orientation: ' + orientation;\n  }\n\n  // Return information (k is the unit conversion ratio from pts)\n  var info = { 'width': pageWidth, 'height': pageHeight, 'unit': unit, 'k': k };\n  return info;\n};\n\nvar orig = {\n  toContainer: Worker.prototype.toContainer\n};\n\nWorker.prototype.toContainer = function toContainer() {\n  return orig.toContainer.call(this).then(function toContainer_pagebreak() {\n    // Enable page-breaks.\n    var pageBreaks = this.prop.container.querySelectorAll('.html2pdf__page-break');\n    var pxPageHeight = this.prop.pageSize.inner.px.height;\n    Array.prototype.forEach.call(pageBreaks, function pageBreak_loop(el) {\n      el.style.display = 'block';\n      var clientRect = el.getBoundingClientRect();\n      el.style.height = pxPageHeight - clientRect.top % pxPageHeight + 'px';\n    }, this);\n  });\n};\n\n// Add hyperlink functionality to the PDF creation.\n\n// Main link array, and refs to original functions.\nvar linkInfo = [];\nvar orig$1 = {\n  toContainer: Worker.prototype.toContainer,\n  toPdf: Worker.prototype.toPdf\n};\n\nWorker.prototype.toContainer = function toContainer() {\n  return orig$1.toContainer.call(this).then(function toContainer_hyperlink() {\n    // Retrieve hyperlink info if the option is enabled.\n    if (this.opt.enableLinks) {\n      // Find all anchor tags and get the container's bounds for reference.\n      var container = this.prop.container;\n      var links = container.querySelectorAll('a');\n      var containerRect = unitConvert(container.getBoundingClientRect(), this.prop.pageSize.k);\n      linkInfo = [];\n\n      // Loop through each anchor tag.\n      Array.prototype.forEach.call(links, function (link) {\n        // Treat each client rect as a separate link (for text-wrapping).\n        var clientRects = link.getClientRects();\n        for (var i = 0; i < clientRects.length; i++) {\n          var clientRect = unitConvert(clientRects[i], this.prop.pageSize.k);\n          clientRect.left -= containerRect.left;\n          clientRect.top -= containerRect.top;\n\n          var page = Math.floor(clientRect.top / this.prop.pageSize.inner.height) + 1;\n          var top = this.opt.margin[0] + clientRect.top % this.prop.pageSize.inner.height;\n          var left = this.opt.margin[1] + clientRect.left;\n\n          linkInfo.push({ page: page, top: top, left: left, clientRect: clientRect, link: link });\n        }\n      }, this);\n    }\n  });\n};\n\nWorker.prototype.toPdf = function toPdf() {\n  return orig$1.toPdf.call(this).then(function toPdf_hyperlink() {\n    // Add hyperlinks if the option is enabled.\n    if (this.opt.enableLinks) {\n      // Attach each anchor tag based on info from toContainer().\n      linkInfo.forEach(function (l) {\n        this.prop.pdf.setPage(l.page);\n        this.prop.pdf.link(l.left, l.top, l.clientRect.width, l.clientRect.height, { url: l.link.href });\n      }, this);\n\n      // Reset the active page of the PDF to the final page.\n      var nPages = this.prop.pdf.internal.getNumberOfPages();\n      this.prop.pdf.setPage(nPages);\n    }\n  });\n};\n\n/**\n * Generate a PDF from an HTML element or string using html2canvas and jsPDF.\n *\n * @param {Element|string} source The source element or HTML string.\n * @param {Object=} opt An object of optional settings: 'margin', 'filename',\n *    'image' ('type' and 'quality'), and 'html2canvas' / 'jspdf', which are\n *    sent as settings to their corresponding functions.\n */\nvar html2pdf = function html2pdf(src, opt) {\n  // Create a new worker with the given options.\n  var worker = new html2pdf.Worker(opt);\n\n  if (src) {\n    // If src is specified, perform the traditional 'simple' operation.\n    return worker.from(src).save();\n  } else {\n    // Otherwise, return the worker for new Promise-based operation.\n    return worker;\n  }\n};\nhtml2pdf.Worker = Worker;\n\nreturn html2pdf;\n\n})));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}